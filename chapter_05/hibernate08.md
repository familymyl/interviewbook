# hibernate中的1级和2级缓存的使用方式以及区别原理


# 参考解答

![](/assets/12.png)


当第一次查询到记录时，可以把记录存放到session的一级缓存，如果配置了session的二级缓存，也会在session的二级缓存中存储一份。当第二次查询时，hibernate会去session的一级缓存中查找，如果查找到则直接返回结果，如果没找到会继续到session的二级缓存中查找，如果找到，则返回，如果没有找到，才会去查询数据库。

区别：一级缓存是每个session独有的，而二级缓存是多个session间共享的。


---